<!DOCTYPE html>
<html lang="en">

<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>NCH API Demo</title>

        <link rel="stylesheet" href="index.css">
</head>

<body>

        <div class="container">
                <button class="item" onclick="login()"> 授权登陆 </button>
                <button class="item" onclick="test()"> 测试接口 </button>
                <button class="item" onclick="getSystemInfo()"> 获取语言 </button>
                <button class="item" onclick="setProxy()"> 打开代理 </button>
                <button class="item" onclick="revertProxy()"> 关闭代理 </button>
                <button class="item" onclick="gotoGoogle()">google</button>
                <button class="item" onclick="joinGroup()">加入群聊</button>
        </div>



        <script type="text/javascript" src="./nchsdk.js"></script>
        <script>
                // import("./nchsdk.js")
                function login() {
                        // private key 53644179fa2e2d1a8acf8b2b1d7c17082f0d176d8bc6e2f04b953d89e6853455
                        //(icon, name, originText, signature) 
                        nchsdk.auth.login(
                                "https://www.netcloth.org/favicon.ico",
                                "NetCloth",
                                "0425c4d73e92dfade7d83774f37dc0f9948882ac1c682233f617ba562dd4713b019dfa50ab7e0c90b1de2634ebf44ba5b746880a1cf542725d5d154b980f46c752",
                                "1579144095933",
                                "6f0e8034bdfda35e8fab6f39a77f8e13dddd516c817ff84a213bc85dad1e8581354a644b40cb8e7c7bcb478b9ee72f2189c67120e6da7677ca219da17d33114f")
                                .then(function (res) {
                                        alert(JSON.stringify(res.result))
                                }).catch(function (e) {
                                        alert(e.status)
                                })
                }

                function test() {
                        console.log("test 1")
                        nchsdk.auth.testInterface("canshu").then(function (res) {
                                console.log("test callback " + res)
                        })
                }
                function getSystemInfo() {
                        nchsdk.env.getSystemInfo().then(function (res) {
                                alert(JSON.stringify(res.result))
                        }).catch(function (e) {
                                alert(e.status)
                        })
                }
                function setProxy() {
                        console.log("setProxy")
                        nchsdk.env.setProxy("47.104.245.170", 8848).then(function (res) {
                                alert(JSON.stringify(res))
                        }).catch(function (e) {
                                alert(e.status)
                        })
                }
                function revertProxy() {
                        console.log("revertProxy")
                        nchsdk.env.revertProxy().then(function (res) {
                                alert(JSON.stringify(res))
                        }).catch(function (e) {
                                alert(e.status)
                        })
                }
                function gotoGoogle() {
                        window.location = "https://google.com"
                }
                function joinGroup(){
                        nchsdk.chat.joinGroup("0439fa1551b4dea9cb0ae8691795c0f378728dcd4469a5708ad8bc61b89a16a91239570ef0b06a9c59940d195c11978db2c396fbc9555a7fb1708835739e39dcb7").then(function (res) {
                                alert(JSON.stringify(res))
                        }).catch(function (e) {
                                alert(e.status)
                        })
                }
        </script>




</body>

</html>